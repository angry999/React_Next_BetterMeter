{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\WORK\\\\2020_11\\\\BetterMeter-Test-React-Next\\\\components\\\\ThreeDotsMenu\\\\index.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState, useCallback } from 'react';\nimport styles from './styles.module.scss';\nimport OutsideClickHandler from 'react-outside-click-handler';\nimport { usePopper } from 'react-popper';\n\nconst ThreeDotsMenu = ({\n  options\n}) => {\n  const {\n    0: isOpen,\n    1: setIsOpen\n  } = useState(false);\n  const {\n    0: referenceElement,\n    1: setReferenceElement\n  } = useState(null);\n  const {\n    0: popperElement,\n    1: setPopperElement\n  } = useState(null);\n  const {\n    styles: popperStyles,\n    attributes\n  } = usePopper(referenceElement, popperElement, {\n    placement: 'bottom-end',\n    modifiers: [{\n      name: 'flip',\n      options: {\n        fallbackPlacements: ['bottom-end']\n      }\n    }, {\n      name: 'offset',\n      options: {\n        offset: [0, -40]\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        // padding from browser edges\n        padding: 16\n      }\n    }]\n  });\n  const close = useCallback(() => {\n    setIsOpen(false);\n  }, [setIsOpen]);\n  const toggle = useCallback(() => {\n    setIsOpen(!isOpen);\n  }, [isOpen, setIsOpen]);\n  const closeOnAction = useCallback(action => () => {\n    close();\n    action && action();\n  }, [close]);\n  return /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n    onOutsideClick: close,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: toggle,\n      role: \"button\",\n      tabIndex: 0,\n      className: styles.handle,\n      ref: setReferenceElement\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({\n      className: styles.popover,\n      ref: setPopperElement,\n      style: popperStyles.popper\n    }, attributes.popper), {}, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.list,\n        children: options.map(option => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: closeOnAction(option.action),\n          role: \"button\",\n          tabIndex: 0,\n          className: styles.option,\n          children: option.label\n        }, option.label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: close,\n        role: \"button\",\n        tabIndex: 0,\n        className: styles.handleClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\nexport default ThreeDotsMenu;","map":{"version":3,"sources":["E:/WORK/2020_11/BetterMeter-Test-React-Next/components/ThreeDotsMenu/index.jsx"],"names":["useState","useCallback","styles","OutsideClickHandler","usePopper","ThreeDotsMenu","options","isOpen","setIsOpen","referenceElement","setReferenceElement","popperElement","setPopperElement","popperStyles","attributes","placement","modifiers","name","fallbackPlacements","offset","padding","close","toggle","closeOnAction","action","handle","popover","popper","list","map","option","label","handleClose"],"mappings":"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","sourcesContent":["import { useState, useCallback } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport OutsideClickHandler from 'react-outside-click-handler'\r\nimport { usePopper } from 'react-popper'\r\n\r\nconst ThreeDotsMenu = ({ options }) => {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [referenceElement, setReferenceElement] = useState(null)\r\n  const [popperElement, setPopperElement] = useState(null)\r\n  const { styles: popperStyles, attributes } = usePopper(\r\n    referenceElement,\r\n    popperElement,\r\n    {\r\n      placement: 'bottom-end',\r\n      modifiers: [\r\n        {\r\n          name: 'flip',\r\n          options: {\r\n            fallbackPlacements: ['bottom-end'],\r\n          },\r\n        },\r\n        {\r\n          name: 'offset',\r\n          options: {\r\n            offset: [0, -40],\r\n          },\r\n        },\r\n        {\r\n          name: 'preventOverflow',\r\n          options: {\r\n            // padding from browser edges\r\n            padding: 16,\r\n          },\r\n        },\r\n      ],\r\n    }\r\n  )\r\n\r\n  const close = useCallback(() => {\r\n    setIsOpen(false)\r\n  }, [setIsOpen])\r\n\r\n  const toggle = useCallback(() => {\r\n    setIsOpen(!isOpen)\r\n  }, [isOpen, setIsOpen])\r\n\r\n  const closeOnAction = useCallback(\r\n    (action) => () => {\r\n      close()\r\n      action && action()\r\n    },\r\n    [close]\r\n  )\r\n\r\n  return (\r\n    <OutsideClickHandler onOutsideClick={close}>\r\n      <div\r\n        onClick={toggle}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n        className={styles.handle}\r\n        ref={setReferenceElement}\r\n      />\r\n\r\n      {isOpen && (\r\n        <div\r\n          className={styles.popover}\r\n          ref={setPopperElement}\r\n          style={popperStyles.popper}\r\n          {...attributes.popper}\r\n        >\r\n          <div className={styles.list}>\r\n            {options.map((option) => (\r\n              <div\r\n                key={option.label}\r\n                onClick={closeOnAction(option.action)}\r\n                role=\"button\"\r\n                tabIndex={0}\r\n                className={styles.option}\r\n              >\r\n                {option.label}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div\r\n            onClick={close}\r\n            role=\"button\"\r\n            tabIndex={0}\r\n            className={styles.handleClose}\r\n          />\r\n        </div>\r\n      )}\r\n    </OutsideClickHandler>\r\n  )\r\n}\r\n\r\nexport default ThreeDotsMenu\r\n"]},"metadata":{},"sourceType":"module"}