{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\WORK\\\\2020_11\\\\BetterMeter-Test-React-Next\\\\components\\\\ThreeDotsMenu\\\\index.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useCallback } from 'react';\nimport styles from './styles.module.scss';\nimport OutsideClickHandler from 'react-outside-click-handler';\nimport { usePopper } from 'react-popper';\n\nvar ThreeDotsMenu = function ThreeDotsMenu(_ref) {\n  _s();\n\n  var options = _ref.options;\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var _useState2 = useState(null),\n      referenceElement = _useState2[0],\n      setReferenceElement = _useState2[1];\n\n  var _useState3 = useState(null),\n      popperElement = _useState3[0],\n      setPopperElement = _useState3[1];\n\n  var _usePopper = usePopper(referenceElement, popperElement, {\n    placement: 'bottom-end',\n    modifiers: [{\n      name: 'flip',\n      options: {\n        fallbackPlacements: ['bottom-end']\n      }\n    }, {\n      name: 'offset',\n      options: {\n        offset: [0, -40]\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        // padding from browser edges\n        padding: 16\n      }\n    }]\n  }),\n      popperStyles = _usePopper.styles,\n      attributes = _usePopper.attributes;\n\n  var close = useCallback(function () {\n    setIsOpen(false);\n  }, [setIsOpen]);\n  var toggle = useCallback(function () {\n    setIsOpen(!isOpen);\n  }, [isOpen, setIsOpen]);\n  var closeOnAction = useCallback(function (action) {\n    return function () {\n      close();\n      action && action();\n    };\n  }, [close]);\n  return /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n    onOutsideClick: close,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: toggle,\n      role: \"button\",\n      tabIndex: 0,\n      className: styles.handle,\n      ref: setReferenceElement\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, _this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({\n      className: styles.popover,\n      ref: setPopperElement,\n      style: popperStyles.popper\n    }, attributes.popper), {}, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.list,\n        children: options.map(function (option) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: closeOnAction(option.action),\n            role: \"button\",\n            tabIndex: 0,\n            className: styles.option,\n            children: option.label\n          }, option.label, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: close,\n        role: \"button\",\n        tabIndex: 0,\n        className: styles.handleClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, _this)]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ThreeDotsMenu, \"J1P9+9Z7GYBT2TWtfrGA3uFpJzE=\", false, function () {\n  return [usePopper];\n});\n\n_c = ThreeDotsMenu;\nexport default ThreeDotsMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"ThreeDotsMenu\");","map":{"version":3,"sources":["E:/WORK/2020_11/BetterMeter-Test-React-Next/components/ThreeDotsMenu/index.jsx"],"names":["useState","useCallback","styles","OutsideClickHandler","usePopper","ThreeDotsMenu","options","isOpen","setIsOpen","referenceElement","setReferenceElement","popperElement","setPopperElement","placement","modifiers","name","fallbackPlacements","offset","padding","popperStyles","attributes","close","toggle","closeOnAction","action","handle","popover","popper","list","map","option","label","handleClose"],"mappings":"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","sourcesContent":["import { useState, useCallback } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport OutsideClickHandler from 'react-outside-click-handler'\r\nimport { usePopper } from 'react-popper'\r\n\r\nconst ThreeDotsMenu = ({ options }) => {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [referenceElement, setReferenceElement] = useState(null)\r\n  const [popperElement, setPopperElement] = useState(null)\r\n  const { styles: popperStyles, attributes } = usePopper(\r\n    referenceElement,\r\n    popperElement,\r\n    {\r\n      placement: 'bottom-end',\r\n      modifiers: [\r\n        {\r\n          name: 'flip',\r\n          options: {\r\n            fallbackPlacements: ['bottom-end'],\r\n          },\r\n        },\r\n        {\r\n          name: 'offset',\r\n          options: {\r\n            offset: [0, -40],\r\n          },\r\n        },\r\n        {\r\n          name: 'preventOverflow',\r\n          options: {\r\n            // padding from browser edges\r\n            padding: 16,\r\n          },\r\n        },\r\n      ],\r\n    }\r\n  )\r\n\r\n  const close = useCallback(() => {\r\n    setIsOpen(false)\r\n  }, [setIsOpen])\r\n\r\n  const toggle = useCallback(() => {\r\n    setIsOpen(!isOpen)\r\n  }, [isOpen, setIsOpen])\r\n\r\n  const closeOnAction = useCallback(\r\n    (action) => () => {\r\n      close()\r\n      action && action()\r\n    },\r\n    [close]\r\n  )\r\n\r\n  return (\r\n    <OutsideClickHandler onOutsideClick={close}>\r\n      <div\r\n        onClick={toggle}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n        className={styles.handle}\r\n        ref={setReferenceElement}\r\n      />\r\n\r\n      {isOpen && (\r\n        <div\r\n          className={styles.popover}\r\n          ref={setPopperElement}\r\n          style={popperStyles.popper}\r\n          {...attributes.popper}\r\n        >\r\n          <div className={styles.list}>\r\n            {options.map((option) => (\r\n              <div\r\n                key={option.label}\r\n                onClick={closeOnAction(option.action)}\r\n                role=\"button\"\r\n                tabIndex={0}\r\n                className={styles.option}\r\n              >\r\n                {option.label}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div\r\n            onClick={close}\r\n            role=\"button\"\r\n            tabIndex={0}\r\n            className={styles.handleClose}\r\n          />\r\n        </div>\r\n      )}\r\n    </OutsideClickHandler>\r\n  )\r\n}\r\n\r\nexport default ThreeDotsMenu\r\n"]},"metadata":{},"sourceType":"module"}